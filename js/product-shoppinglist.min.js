(function(){document.addEventListener("DOMContentLoaded",()=>{updateHideOwnedProductButton(),updateProductButtons(),document.querySelectorAll(".product-btn").forEach(e=>{e.addEventListener("click",e=>{const t=e.target,n=t.closest(".product");toggleProductOwned(n.id),updateProductButtons()})}),document.querySelectorAll(".product-hidden-toggle-btn").forEach(e=>{e.addEventListener("click",e=>{toggleHidingOwnedProducts(e.target),updateHideOwnedProductButton(),updateProductButtons()})})})})();function toggleProductOwned(e){let t=localStorage.getItem("afwoa_owned_products");t=new Set(t?t.split(","):[]),t.has(e)?t.delete(e):t.add(e),localStorage.setItem("afwoa_owned_products",[...t])}function toggleHidingOwnedProducts(e){e.classList.toggle("active"),isActive=e.classList.contains("active"),localStorage.setItem("afwoa_hide_owned_products",isActive)}function updateHideOwnedProductButton(){let e=localStorage.getItem("afwoa_hide_owned_products")||"false";document.querySelectorAll(".product-hidden-toggle-btn").forEach(t=>{e==="true"?(t.classList.add("active"),t.innerText="Show Owned Items"):(t.classList.remove("active"),t.innerText="Hide Owned Items")})}function updateProductButtons(){const t=localStorage.getItem("afwoa_hide_owned_products")||"false";let e=localStorage.getItem("afwoa_owned_products");e=new Set(e?e.split(","):[]),document.querySelectorAll(".product-btn").forEach(n=>{const s=n.closest(".product");e.has(s.id)?(n.innerText="I need this",n.style.backgroundColor="#DC143C",s.style.display=t==="true"?"none":"flex"):(n.innerText="I have this",n.style.backgroundColor="#4CAF50",s.style.display="flex")})}